<div class="topbar">
  <button nz-button nzType="default" (click)="goBackToList()">
    <i nz-icon nzType="arrow-left" nzTheme="outline"></i>
  </button>
  <h6>Voir tous les produits</h6>
</div>

<div class="service-details">
  <!-- Service Info Section -->
  <img
    nz-image
    width="100%"
    height="250px"
    [nzSrc]="service.image"
    alt=""
  />

  <div class="service-info">
    <h3>{{ service.title }}</h3>
    <div class="service-sub-info">
      <span [ngStyle]="{ color: service.available ? 'green' : 'red' }">
        {{ service.available ? 'Disponible' : 'Indisponible' }}
      </span>
      <span class="address">{{ service.address }}</span>
    </div>
    <p>{{ service.description }}</p>
  </div>

  <!-- Author Info Section -->
  <div class="author-info">
    <h4>Contactez l'Auteur</h4>
    <div class="author-details">
      <p><strong>Nom :</strong> {{ service.author.name }}</p>
      <p><strong>Email :</strong> {{ service.author.email }}</p>
      <p><strong>Téléphone :</strong> {{ service.author.phone }}</p>
    </div>
    <div class="contact-buttons">
      <button
        nz-button
        nzType="primary"
        nzShape="round"
        (click)="contactAuthor('phone')"
      >
        <i nz-icon nzType="phone" nzTheme="outline"></i> Appeler
      </button>
      <button
        nz-button
        nzType="default"
        nzShape="round"
        (click)="contactAuthor('email')"
      >
        <i nz-icon nzType="mail" nzTheme="outline"></i> Email
      </button>
      <button
        nz-button
        nzType="primary"
        nzShape="round"
        (click)="contactAuthor('whatsapp')"
      >
        <i nz-icon nzType="message" nzTheme="outline"></i> WhatsApp
      </button>
      <button
        nz-button
        nzType="primary"
        nzShape="round"
        (click)="contactAuthor('sms')"
      >
        <i nz-icon nzType="mobile" nzTheme="outline"></i> SMS
      </button>
    </div>
  </div>

  <!-- Google Map Section -->
  <div class="google-map-container">
    <google-map
      height="400px"
      width="100%"
      [center]="{ lat: service.lat, lng: service.lng }"
      [zoom]="15"
    >
      <map-marker
        [position]="{ lat: service.lat, lng: service.lng }"
        [title]="service.title"
      ></map-marker>
    </google-map>
  </div>

  <div class="related-services">
    <h4>Services Connexes</h4>
    <div nz-row nzGutter="16">
      <div
        *ngFor="let relatedService of relatedServices"
        nz-col
        [nzXs]="{ span: 12 }"
        [nzSm]="{ span: 12 }"
        [nzLg]="{ span: 6 }"
      >
        <app-service-card [service]="relatedService"></app-service-card>
      </div>
    </div>
  </div>
</div>
